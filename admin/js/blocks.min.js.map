{"version":3,"sources":["blocks.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","./blocks/block","2","__","wp","i18n","registerBlockType","blocks","_wp$blockEditor","blockEditor","MediaUploadCheck","InspectorControls","MediaUpload","_wp$components","components","Button","Icon","title","icon","category","keywords","attributes","galleryImages","type","default","imageIds","galleryId","edit","props","setAttributes","_props$attributes","onGallerySelect","galleryObject","sec","map","item","id","Date","getMilliseconds","Math","ceil","random","toString","giveOutImages","React","createElement","concat","class","alt","src","sizes","thumbnail","url","ALLOW_MEDIA_TYPES","className","onSelect","allowedTypes","multiple","value","render","_ref","open","onClick","console","log","save","_props$attributes2","frontImages","data-lightbox","href","full"],"mappings":"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","file":"blocks.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"./blocks/block\");\n\n},{\"./blocks/block\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nvar __ = wp.i18n.__; // for internationalization\n\nvar registerBlockType = wp.blocks.registerBlockType;\nvar _wp$blockEditor = wp.blockEditor,\n    InspectorControls = _wp$blockEditor.InspectorControls,\n    MediaUploadCheck = _wp$blockEditor.MediaUploadCheck,\n    MediaUpload = _wp$blockEditor.MediaUpload;\nvar _wp$components = wp.components,\n    Button = _wp$components.Button,\n    Icon = _wp$components.Icon; // register block\n\nregisterBlockType('sno/sno-gallery-lightbox-block', {\n  title: __('sno-gallery-lightbox-block'),\n  icon: 'format-gallery',\n  category: 'common',\n  keywords: [__('Gallery Block'), __('Lightbox'), __('sno-gallery-lightbox-block')],\n  attributes: {\n    galleryImages: {\n      type: 'array',\n      \"default\": []\n    },\n    imageIds: {\n      type: 'array',\n      \"default\": []\n    },\n    galleryId: {\n      type: 'string',\n      \"default\": ''\n    }\n  },\n  edit: function edit(props) {\n    var setAttributes = props.setAttributes,\n        attributes = props.attributes;\n    var _props$attributes = props.attributes,\n        galleryImages = _props$attributes.galleryImages,\n        galleryId = _props$attributes.galleryId,\n        imageIds = _props$attributes.imageIds;\n\n    function createRandomId() {\n      var date = new Date();\n      var sec = date.getMilliseconds();\n      var id = Math.ceil(Math.random() * 100) + sec;\n      return id.toString();\n    }\n\n    function onGallerySelect(galleryObject) {\n      setAttributes({\n        galleryImages: galleryObject,\n        imageIds: galleryObject.map(function (item) {\n          return item.id;\n        }),\n        // get selected image ids so that selected images are shown as selected if user changes selection\n        galleryId: createRandomId()\n      });\n    }\n\n    var giveOutImages = galleryImages.length > 0 && galleryImages.map(function (item) {\n      return React.createElement(\"img\", {\n        id: \"sno-gallery-block-image-\".concat(item.id),\n        \"class\": \"sno-gallery-block-image\",\n        alt: item.title,\n        src: item.sizes.thumbnail.url\n      });\n    });\n    var ALLOW_MEDIA_TYPES = ['image'];\n\n    function MyGalleryUploader() {\n      return React.createElement(MediaUploadCheck, null, React.createElement(MediaUpload, {\n        onSelect: onGallerySelect,\n        allowedTypes: ALLOW_MEDIA_TYPES,\n        multiple: 'add',\n        value: imageIds // if multiple is set to 'add' this has to be an array of image Ids\n        ,\n        render: function render(_ref) {\n          var open = _ref.open;\n          return React.createElement(Button, {\n            className: \"sno-gallery-block-backend-button\",\n            onClick: open\n          }, \"Select Images\");\n        }\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"sno-gallery-block-backend-main\"\n    }, React.createElement(MyGalleryUploader, null), console.log(galleryImages, 'gallery'), React.createElement(\"div\", {\n      className: \"sno-gallery-block-backend-gallery\"\n    }, giveOutImages));\n  },\n  save: function save(props) {\n    var attributes = props.attributes;\n    var _props$attributes2 = props.attributes,\n        galleryImages = _props$attributes2.galleryImages,\n        galleryId = _props$attributes2.galleryId;\n    var frontImages = galleryImages.length > 0 && galleryImages.map(function (item) {\n      return React.createElement(\"a\", {\n        \"class\": \"sno-lightbox-nqaknadj3v\",\n        \"data-lightbox\": galleryId,\n        href: item.sizes.full.url\n      }, React.createElement(\"img\", {\n        id: \"sno-gallery-block-image-\".concat(item.id),\n        \"class\": \"sno-gallery-block-image\",\n        alt: item.title,\n        src: item.sizes.thumbnail.url\n      }));\n    });\n    return React.createElement(\"div\", {\n      id: galleryId,\n      className: \"sno-gallery-lightbox-block-front\"\n    }, frontImages);\n  }\n});\n\n},{}]},{},[1]);\n"]}