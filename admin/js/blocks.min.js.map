{"version":3,"sources":["blocks.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","./blocks/block","2","__","wp","i18n","registerBlockType","blocks","_wp$blockEditor","blockEditor","InspectorControls","MediaUploadCheck","MediaUpload","_wp$components","components","Button","ToggleControl","Icon","title","icon","category","keywords","attributes","galleryImages","type","default","imageIds","galleryId","squareThumbs","edit","props","setAttributes","_props$attributes","onGallerySelect","galleryObject","sec","map","item","id","Date","getMilliseconds","Math","ceil","random","toString","giveOutImages","orientation","sizes","sno_gallery_vertical","React","createElement","key","concat","class","alt","src","url","sno_gallery_square","sno_gallery_horizontal","ALLOW_MEDIA_TYPES","label","checked","onChange","className","onSelect","allowedTypes","multiple","value","render","_ref","open","onClick","console","log","save","_props$attributes2","frontImages","data-lightbox","href","full"],"mappings":"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","file":"blocks.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"./blocks/block\");\n\n},{\"./blocks/block\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nvar __ = wp.i18n.__; // for internationalization\n\nvar registerBlockType = wp.blocks.registerBlockType;\nvar _wp$blockEditor = wp.blockEditor,\n    InspectorControls = _wp$blockEditor.InspectorControls,\n    MediaUploadCheck = _wp$blockEditor.MediaUploadCheck,\n    MediaUpload = _wp$blockEditor.MediaUpload;\nvar _wp$components = wp.components,\n    Button = _wp$components.Button,\n    Icon = _wp$components.Icon,\n    ToggleControl = _wp$components.ToggleControl; // register block\n\nregisterBlockType('sno/sno-gallery-lightbox-block', {\n  title: __('sno-gallery-lightbox-block'),\n  icon: 'format-gallery',\n  category: 'common',\n  keywords: [__('Gallery Block'), __('Lightbox'), __('sno-gallery-lightbox-block')],\n  attributes: {\n    galleryImages: {\n      type: 'array',\n      \"default\": []\n    },\n    imageIds: {\n      type: 'array',\n      \"default\": []\n    },\n    galleryId: {\n      type: 'string',\n      \"default\": ''\n    },\n    squareThumbs: {\n      type: 'boolean',\n      \"default\": false\n    }\n  },\n  edit: function edit(props) {\n    var setAttributes = props.setAttributes,\n        attributes = props.attributes;\n    var _props$attributes = props.attributes,\n        galleryImages = _props$attributes.galleryImages,\n        galleryId = _props$attributes.galleryId,\n        imageIds = _props$attributes.imageIds,\n        squareThumbs = _props$attributes.squareThumbs;\n\n    function createRandomId() {\n      var date = new Date();\n      var sec = date.getMilliseconds();\n      var id = Math.ceil(Math.random() * 100) + sec;\n      return id.toString();\n    }\n\n    function toggleSquareThumbs() {\n      setAttributes({\n        squareThumbs: !squareThumbs\n      });\n    }\n\n    function onGallerySelect(galleryObject) {\n      setAttributes({\n        galleryImages: galleryObject,\n        imageIds: galleryObject.map(function (item) {\n          return item.id;\n        }),\n        // get selected image ids so that selected images are shown as selected if user changes selection\n        galleryId: createRandomId()\n      });\n    }\n\n    var giveOutImages = galleryImages.length > 0 && galleryImages.map(function (item) {\n      if (item.orientation === \"landscape\" && squareThumbs === false) {\n        if (typeof item.sizes.sno_gallery_vertical !== 'undefined') {\n          return React.createElement(\"img\", {\n            key: item.id,\n            id: \"sno-gallery-block-image-\".concat(item.id),\n            \"class\": \"sno-gallery-block-image\",\n            alt: item.title,\n            src: item.sizes.sno_gallery_vertical.url\n          });\n        }\n      } else if (item.orientation === \"portrait\" && squareThumbs === false) {\n        if (typeof item.sizes.sno_gallery_horizontal !== 'undefined') {\n          return React.createElement(\"img\", {\n            key: item.id,\n            id: \"sno-gallery-block-image-\".concat(item.id),\n            \"class\": \"sno-gallery-block-image\",\n            alt: item.title,\n            src: item.sizes.sno_gallery_horizontal.url\n          });\n        }\n      } else {\n        return React.createElement(\"img\", {\n          key: item.id,\n          id: \"sno-gallery-block-image-\".concat(item.id),\n          \"class\": \"sno-gallery-block-image\",\n          alt: item.title,\n          src: item.sizes.sno_gallery_square.url\n        });\n      }\n    }); // CHECK IF Image orientation is landscape or portrait or square by comparing width and height > chose thumb type based on that\n\n    var ALLOW_MEDIA_TYPES = ['image'];\n\n    function MyGalleryUploader() {\n      return React.createElement(MediaUploadCheck, null, React.createElement(MediaUpload, {\n        onSelect: onGallerySelect,\n        allowedTypes: ALLOW_MEDIA_TYPES,\n        multiple: 'add',\n        value: imageIds // if multiple is set to 'add' this has to be an array of image Ids\n        ,\n        render: function render(_ref) {\n          var open = _ref.open;\n          return React.createElement(Button, {\n            className: \"sno-gallery-block-backend-button\",\n            onClick: open\n          }, \"Select Images\");\n        }\n      }));\n    }\n\n    return React.createElement(\"div\", null, React.createElement(InspectorControls, null, React.createElement(ToggleControl, {\n      label: 'Square Thumbnails',\n      checked: squareThumbs,\n      onChange: toggleSquareThumbs\n    })), React.createElement(\"div\", {\n      className: \"sno-gallery-block-backend-main\"\n    }, React.createElement(MyGalleryUploader, null), console.log(galleryImages, 'gallery'), React.createElement(\"div\", {\n      className: \"sno-gallery-block-backend-gallery\"\n    }, giveOutImages)));\n  },\n  save: function save(props) {\n    var attributes = props.attributes;\n    var _props$attributes2 = props.attributes,\n        galleryImages = _props$attributes2.galleryImages,\n        galleryId = _props$attributes2.galleryId,\n        squareThumbs = _props$attributes2.squareThumbs;\n    var frontImages = galleryImages.length > 0 && galleryImages.map(function (item) {\n      if (item.orientation === \"landscape\" && squareThumbs === false) {\n        if (typeof item.sizes.sno_gallery_vertical !== 'undefined') {\n          return React.createElement(\"a\", {\n            \"class\": \"sno-lightbox-nqaknadj3v\",\n            \"data-lightbox\": galleryId,\n            href: item.sizes.full.url\n          }, React.createElement(\"img\", {\n            key: item.id,\n            id: \"sno-gallery-block-image-\".concat(item.id),\n            \"class\": \"sno-gallery-block-image\",\n            alt: item.title,\n            src: item.sizes.sno_gallery_vertical.url\n          }));\n        }\n      } else if (item.orientation === \"portrait\" && squareThumbs === false) {\n        if (typeof item.sizes.sno_gallery_horizontal !== 'undefined') {\n          return React.createElement(\"a\", {\n            \"class\": \"sno-lightbox-nqaknadj3v\",\n            \"data-lightbox\": galleryId,\n            href: item.sizes.full.url\n          }, React.createElement(\"img\", {\n            key: item.id,\n            id: \"sno-gallery-block-image-\".concat(item.id),\n            \"class\": \"sno-gallery-block-image\",\n            alt: item.title,\n            src: item.sizes.sno_gallery_horizontal.url\n          }));\n        }\n      } else {\n        return React.createElement(\"a\", {\n          \"class\": \"sno-lightbox-nqaknadj3v\",\n          \"data-lightbox\": galleryId,\n          href: item.sizes.full.url\n        }, React.createElement(\"img\", {\n          key: item.id,\n          id: \"sno-gallery-block-image-\".concat(item.id),\n          \"class\": \"sno-gallery-block-image\",\n          alt: item.title,\n          src: item.sizes.sno_gallery_square.url\n        }));\n      }\n    });\n    return React.createElement(\"div\", {\n      id: galleryId,\n      className: \"sno-gallery-lightbox-block-grid\"\n    }, frontImages);\n  }\n});\n\n},{}]},{},[1]);\n"]}